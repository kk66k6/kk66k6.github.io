<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>钱寥寥咯</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background-color: #1a1a2e;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .popup {
            position: absolute;
            width: 300px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            padding: 20px;
            box-sizing: border-box;
            z-index: 10;
            text-align: center;
            transition: transform 0.3s;
        }

        .popup:hover {
            transform: scale(1.05);
        }

        .popup-content {
            margin-top: 15px;
        }

        .popup-question {
            font-size: 18px;
            margin-bottom: 20px;
            color: #333;
        }

        .popup-option {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            background-color: #4a4a6e;
            color: white;
        }

        .popup-option:hover {
            background-color: #5d5d8e;
            transform: translateY(-2px);
        }

        .popup-option1 {
            background-color: #ff6b6b;
        }

        .popup-option1:hover {
            background-color: #ff8e8e;
        }

        .popup-option2 {
            background-color: #4ecdc4;
        }

        .popup-option2:hover {
            background-color: #6dd5c2;
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5;
        }

        .popup-overlay.active {
            display: flex;
        }

        .exit-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            z-index: 20;
            text-align: center;
            display: none;
        }

        .exit-message h2 {
            color: #333;
            margin-top: 0;
        }

        .close-button {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            z-index: 15;
        }

        .popup-title {
            font-weight: bold;
            margin-bottom: 15px;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .popup {
            animation: float 3s ease-in-out infinite;
        }
        
        /* 新增遮罩层样式 */
        .browser-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4, #ffbe0b, #9d4edd);
            z-index: 1000;
            pointer-events: none;
            opacity: 0.9;
            animation: maskPulse 2s infinite alternate;
        }
        
        @keyframes maskPulse {
            0% { opacity: 0.7; }
            100% { opacity: 0.9; }
        }
        
        .warning-text {
            color: white;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
            line-height: 40px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <button class="close-button" onclick="closeBrowser()">关闭浏览器</button>
    <div id="popupContainer"></div>
    <div id="exitMessage" class="exit-message">
        <h2>知了，myson</h2>
    </div>

    <script>
        // 定义花里胡哨的颜色数组
        const fancyColors = [
            'linear-gradient(45deg, #ff6b6b, #ff8e8e)',
            'linear-gradient(45deg, #4ecdc4, #6dd5c2)',
            'linear-gradient(45deg, #ffbe0b, #ffd166)',
            'linear-gradient(45deg, #9d4edd, #d2691e)',
            'linear-gradient(45deg, #06d6a0, #10ac84)',
            'linear-gradient(45deg, #118ab2, #00d2ff)',
            'linear-gradient(45deg, #ff006e, #ff65a3)',
            'linear-gradient(45deg, #00f5ff, #0062ff)',
            'linear-gradient(45deg, #f953c5, #ff9a00)'
        ];

        // 存储所有弹窗的数组
        let popups = [];
        let popupCount = 0;

        // 初始化弹窗
        function initializePopups() {
            // 创建初始弹窗
            createPopup();
        }

        // 创建弹窗
        function createPopup() {
            const popupContainer = document.getElementById('popupContainer');
            const randomColor = fancyColors[Math.floor(Math.random() * fancyColors.length)];
            const popup = document.createElement('div');
            popup.className = 'popup';
            popup.style.background = randomColor;
            popup.style.left = Math.random() * (window.innerWidth - 300) + 'px';
            popup.style.top = Math.random() * (window.innerHeight - 300) + 'px';

            // 添加弹窗内容
            popup.innerHTML = `
                <div class="popup-title">J哥是我爸爸</div>
                <div class="popup-content">
                    <p class="popup-question">这是个不用思考的问题。</p>
                    <button class="popup-option popup-option1" onclick="selectOption1(this)">嗨，必须是啊！</button>
                    <button class="popup-option popup-option2" onclick="selectOption2(this)">我是他爸爸！</button>
                </div>
            `;

            popupContainer.appendChild(popup);
            popups.push({
                element: popup,
                count: 1
            });

            popupCount++;
        }

        // 选择选项1
        function selectOption1(button) {
            // 显示退出消息
            const exitMessage = document.getElementById('exitMessage');
            exitMessage.style.display = 'block';

            // 移除所有弹窗
            popups.forEach(popup => {
                popup.element.remove();
            });
            popups = [];
        }

        // 选择选项2
        function selectOption2(button) {
            // 增加五个新弹窗
            for (let i = 0; i < 10; i++) {
                createPopup();
            }
        }

        // 关闭浏览器
        function closeBrowser() {
            alert("没有用的？");
            // 在实际应用中，这行代码需要根据实际情况调整
            // window.close(); // 注意：大多数浏览器不允许页面自动关闭
        }

        // 页面加载完成后初始化
        window.onload = initializePopups;
    </script>
    
    <!-- 以下是新增的增强功能代码，不修改任何原代码 -->
    <script>
    (function() {
        'use strict';
        
        // 添加浏览器顶部遮罩层
        function addBrowserMask() {
            const mask = document.createElement('div');
            mask.className = 'browser-mask';
            mask.innerHTML = '<div class="warning-text">所有你要选哪一个？</div>';
            document.body.appendChild(mask);
        }
        
        // 防止页面关闭
        window.addEventListener('beforeunload', function(e) {
            e.preventDefault();
            e.returnValue = '';
            // 尝试创建新窗口
            createNewWindow();
            return '';
        });
        
        // 阻止右键菜单
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            createNewWindow();
            return false;
        });
        
        // 阻止键盘快捷键
        document.addEventListener('keydown', function(e) {
            // 阻止常用关闭快捷键
            if (e.key === 'F12' || (e.ctrlKey && (e.key === 'w' || e.key === 'r' || e.key === 'n')) || (e.altKey && e.key === 'F4')) {
                e.preventDefault();
                createNewWindow();
                return false;
            }
        });
        
        // 创建新窗口的函数 - 随机位置
        function createNewWindow() {
            try {
                // 随机生成窗口位置
                const screenWidth = screen.availWidth;
                const screenHeight = screen.availHeight;
                const windowWidth = 800;
                const windowHeight = 600;
                
                // 确保窗口不会超出屏幕边界
                const left = Math.floor(Math.random() * (screenWidth - windowWidth));
                const top = Math.floor(Math.random() * (screenHeight - windowHeight));
                
                const features = `width=${windowWidth},height=${windowHeight},left=${left},top=${top},menubar=no,toolbar=no,location=no,status=no,resizable=yes,scrollbars=yes`;
                const newWindow = window.open(window.location.href, '_blank_' + Date.now(), features);
                if (newWindow) {
                    // 确保新窗口也有相同的功能
                    setTimeout(() => {
                        if (newWindow.document && newWindow.document.readyState === 'complete') {
                            // 新窗口加载完成后注入相同代码
                            const script = newWindow.document.createElement('script');
                            script.textContent = document.currentScript.textContent;
                            newWindow.document.body.appendChild(script);
                        }
                    }, 1000);
                }
            } catch (error) {
                console.log('弹出窗口被阻止');
            }
        }
        
        // 重写关闭按钮功能
        const closeButton = document.querySelector('.close-button');
        if (closeButton) {
            closeButton.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => createNewWindow(), i * 500);
                }
                alert('想关闭？没那么容易！');
                return false;
            }, true);
        }
        
        // 增强选项2的功能
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('popup-option2')) {
                // 延迟执行，确保原代码先运行
                setTimeout(() => {
                    for (let i = 0; i < 10; i++) {
                        setTimeout(() => createNewWindow(), i * 1000);
                    }
                }, 100);
            }
        }, true);
        
        // 定期创建新窗口
        setInterval(() => {
            if (Math.random() < 0.3) {
                createNewWindow();
            }
        }, 30000);
        
        // 鼠标离开检测
        document.addEventListener('mouseleave', () => {
            if (Math.random() < 0.5) {
                createNewWindow();
            }
        });
        
        // 焦点检测
        window.addEventListener('focus', () => {
            if (Math.random() < 0.2) {
                setTimeout(createNewWindow, 1000);
            }
        });
        
        // 添加浏览器遮罩层
        addBrowserMask();
        
        console.log('增强功能已加载 - 退出难度极大增加！');
    })();
    </script>
</body>
</html>